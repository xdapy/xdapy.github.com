

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Mapper &mdash; xdapy 0.9.0 documentation</title>
    
    <link rel="stylesheet" href="../_static/haiku.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/print.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.9.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/theme_extras.js"></script>
    <link rel="top" title="xdapy 0.9.0 documentation" href="../index.html" />
    <link rel="up" title="API" href="index.html" /> 
  </head>
  <body>
      <div class="header"><h1 class="heading"><a href="../index.html">
          <span>xdapy 0.9.0 documentation</span></a></h1>
        <h2 class="heading"><span>Mapper</span></h2>
      </div>
      <div class="topnav">
      
        <p>
        <a class="uplink" href="../index.html">Contents</a>
        </p>

      </div>
      <div class="content">
        
        
  <div class="section" id="module-xdapy.mapper">
<span id="mapper"></span><h1>Mapper<a class="headerlink" href="#module-xdapy.mapper" title="Permalink to this headline">¶</a></h1>
<p>This module provides the code to access a database on an abstract level.</p>
<p>Created on Jun 17, 2009</p>
<dl class="class">
<dt id="xdapy.mapper.Mapper">
<em class="property">class </em><tt class="descclassname">xdapy.mapper.</tt><tt class="descname">Mapper</tt><big>(</big><em>connection</em><big>)</big><a class="reference internal" href="../_modules/xdapy/mapper.html#Mapper"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#xdapy.mapper.Mapper" title="Permalink to this definition">¶</a></dt>
<dd><p>Handles database access and sessions</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters :</th><td class="field-body"><p class="first"><strong>connection</strong> :</p>
<blockquote class="last">
<div><p>A connection object to the database.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="35%" />
<col width="65%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>connection</td>
<td>The database connection or URL</td>
</tr>
<tr class="row-even"><td>registered_entities</td>
<td>The objects this mapper cares about</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#xdapy.mapper.Mapper.create" title="xdapy.mapper.Mapper.create"><tt class="xref py py-obj docutils literal"><span class="pre">create</span></tt></a>(type,&nbsp;*args,&nbsp;**kwargs)</td>
<td>Returns an instance of the entity named type.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#xdapy.mapper.Mapper.create_and_save" title="xdapy.mapper.Mapper.create_and_save"><tt class="xref py py-obj docutils literal"><span class="pre">create_and_save</span></tt></a>(type,&nbsp;*args,&nbsp;**kwargs)</td>
<td>Returns and saves an instance of the entity named type.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#xdapy.mapper.Mapper.delete" title="xdapy.mapper.Mapper.delete"><tt class="xref py py-obj docutils literal"><span class="pre">delete</span></tt></a>(*args)</td>
<td>Deletes the objects from the database.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#xdapy.mapper.Mapper.entities_from_db" title="xdapy.mapper.Mapper.entities_from_db"><tt class="xref py py-obj docutils literal"><span class="pre">entities_from_db</span></tt></a>()</td>
<td>This returns all entities which are registered in the database.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#xdapy.mapper.Mapper.entity_by_name" title="xdapy.mapper.Mapper.entity_by_name"><tt class="xref py py-obj docutils literal"><span class="pre">entity_by_name</span></tt></a>(name)</td>
<td>Returns the mapped entity class with the supplied name or the entity class itself.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#xdapy.mapper.Mapper.find" title="xdapy.mapper.Mapper.find"><tt class="xref py py-obj docutils literal"><span class="pre">find</span></tt></a>(entity[,&nbsp;filter,&nbsp;options])</td>
<td>Finds entities in the mapper.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#xdapy.mapper.Mapper.find_all" title="xdapy.mapper.Mapper.find_all"><tt class="xref py py-obj docutils literal"><span class="pre">find_all</span></tt></a>(entity[,&nbsp;filter,&nbsp;options])</td>
<td>Convenience method for <tt class="docutils literal"><span class="pre">find(...).all()</span></tt>.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#xdapy.mapper.Mapper.find_by_id" title="xdapy.mapper.Mapper.find_by_id"><tt class="xref py py-obj docutils literal"><span class="pre">find_by_id</span></tt></a>(entity,&nbsp;id)</td>
<td></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#xdapy.mapper.Mapper.find_by_unique_id" title="xdapy.mapper.Mapper.find_by_unique_id"><tt class="xref py py-obj docutils literal"><span class="pre">find_by_unique_id</span></tt></a>(unique_id)</td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#xdapy.mapper.Mapper.find_first" title="xdapy.mapper.Mapper.find_first"><tt class="xref py py-obj docutils literal"><span class="pre">find_first</span></tt></a>(entity[,&nbsp;filter,&nbsp;options])</td>
<td>Convenience method for <tt class="docutils literal"><span class="pre">find(...).first()</span></tt>.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#xdapy.mapper.Mapper.find_related" title="xdapy.mapper.Mapper.find_related"><tt class="xref py py-obj docutils literal"><span class="pre">find_related</span></tt></a>(entity,&nbsp;related)</td>
<td>Returns all entities of type <tt class="xref py py-obj docutils literal"><span class="pre">entity</span></tt></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#xdapy.mapper.Mapper.find_roots" title="xdapy.mapper.Mapper.find_roots"><tt class="xref py py-obj docutils literal"><span class="pre">find_roots</span></tt></a>([entity])</td>
<td></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#xdapy.mapper.Mapper.find_with" title="xdapy.mapper.Mapper.find_with"><tt class="xref py py-obj docutils literal"><span class="pre">find_with</span></tt></a>(entity[,&nbsp;filter])</td>
<td>find_with provides an advanced filtering mode for higher structured queries.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#xdapy.mapper.Mapper.get_data_matrix" title="xdapy.mapper.Mapper.get_data_matrix"><tt class="xref py py-obj docutils literal"><span class="pre">get_data_matrix</span></tt></a>(entity,&nbsp;items[,&nbsp;include])</td>
<td>Finds related items for the entity which satisfies condition</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#xdapy.mapper.Mapper.is_consistent" title="xdapy.mapper.Mapper.is_consistent"><tt class="xref py py-obj docutils literal"><span class="pre">is_consistent</span></tt></a>(entity_name,&nbsp;parameter_defaults)</td>
<td>Checks if an entity definition would be consistent with the current state</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#xdapy.mapper.Mapper.is_in_session" title="xdapy.mapper.Mapper.is_in_session"><tt class="xref py py-obj docutils literal"><span class="pre">is_in_session</span></tt></a>(entity)</td>
<td></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#xdapy.mapper.Mapper.is_registered" title="xdapy.mapper.Mapper.is_registered"><tt class="xref py py-obj docutils literal"><span class="pre">is_registered</span></tt></a>(name,&nbsp;declared_params)</td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#xdapy.mapper.Mapper.param_filter" title="xdapy.mapper.Mapper.param_filter"><tt class="xref py py-obj docutils literal"><span class="pre">param_filter</span></tt></a>(entity,&nbsp;filter[,&nbsp;options])</td>
<td></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#xdapy.mapper.Mapper.register" title="xdapy.mapper.Mapper.register"><tt class="xref py py-obj docutils literal"><span class="pre">register</span></tt></a>(*klasses)</td>
<td>Registers the class and the class’s parameters.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#xdapy.mapper.Mapper.register_type" title="xdapy.mapper.Mapper.register_type"><tt class="xref py py-obj docutils literal"><span class="pre">register_type</span></tt></a>(name,&nbsp;declared_params)</td>
<td></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#xdapy.mapper.Mapper.save" title="xdapy.mapper.Mapper.save"><tt class="xref py py-obj docutils literal"><span class="pre">save</span></tt></a>(*args)</td>
<td>Save instances inheriting from <tt class="xref py py-obj docutils literal"><span class="pre">Entity</span></tt> (or any other SQLAlchemy structure)</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#xdapy.mapper.Mapper.super_find" title="xdapy.mapper.Mapper.super_find"><tt class="xref py py-obj docutils literal"><span class="pre">super_find</span></tt></a>(entity[,&nbsp;the_filter])</td>
<td>super_find is able to search for structured data, including sub-queries</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#xdapy.mapper.Mapper.the_big_picture" title="xdapy.mapper.Mapper.the_big_picture"><tt class="xref py py-obj docutils literal"><span class="pre">the_big_picture</span></tt></a>()</td>
<td>Tries to print a big picture of all connections.</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="xdapy.mapper.Mapper.__init__">
<tt class="descname">__init__</tt><big>(</big><em>connection</em><big>)</big><a class="reference internal" href="../_modules/xdapy/mapper.html#Mapper.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#xdapy.mapper.Mapper.__init__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="xdapy.mapper.Mapper.auto_session">
<tt class="descname">auto_session</tt><a class="reference internal" href="../_modules/xdapy/mapper.html#Mapper.auto_session"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#xdapy.mapper.Mapper.auto_session" title="Permalink to this definition">¶</a></dt>
<dd><p>Convenience wrapper for <a class="reference internal" href="connection.html#xdapy.connection.Connection.auto_session" title="xdapy.connection.Connection.auto_session"><tt class="xref py py-obj docutils literal"><span class="pre">xdapy.connection.Connection.auto_session</span></tt></a>.</p>
<p>Sometimes it may be necessary to use auto committing blocks of code,
which are automatically discarded in case of an error and
automatically committed in case of success. For example,
in the following parameter assignment, it may not be obvious
<em>when</em> data is actually written to the database:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">entity</span><span class="o">.</span><span class="n">params</span><span class="p">[</span><span class="s">&quot;some param&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1000</span>
<span class="c"># may be committed whenever SQLAlchemy feels like it</span>
</pre></div>
</div>
<p>Using an <a class="reference internal" href="#xdapy.mapper.Mapper.auto_session" title="xdapy.mapper.Mapper.auto_session"><tt class="xref py py-obj docutils literal"><span class="pre">auto_session</span></tt></a> makes this more transparently:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">with</span> <span class="n">mapper</span><span class="o">.</span><span class="n">auto_session</span><span class="p">:</span>
    <span class="n">entity</span><span class="o">.</span><span class="n">params</span><span class="p">[</span><span class="s">&quot;some param&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1000</span>
    <span class="c"># ...</span>
<span class="c"># will be committed at the end of the with statement</span>
</pre></div>
</div>
<p>If an error is raised inside the <tt class="docutils literal"><span class="pre">with</span></tt>, no commit will be made.</p>
</dd></dl>

<dl class="attribute">
<dt id="xdapy.mapper.Mapper.session">
<tt class="descname">session</tt><a class="reference internal" href="../_modules/xdapy/mapper.html#Mapper.session"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#xdapy.mapper.Mapper.session" title="Permalink to this definition">¶</a></dt>
<dd><p>Convenience wrapper for <a class="reference internal" href="connection.html#xdapy.connection.Connection.session" title="xdapy.connection.Connection.session"><tt class="xref py py-obj docutils literal"><span class="pre">xdapy.connection.Connection.session</span></tt></a>.</p>
</dd></dl>

<dl class="method">
<dt id="xdapy.mapper.Mapper.save">
<tt class="descname">save</tt><big>(</big><em>*args</em><big>)</big><a class="reference internal" href="../_modules/xdapy/mapper.html#Mapper.save"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#xdapy.mapper.Mapper.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save instances inheriting from <tt class="xref py py-obj docutils literal"><span class="pre">Entity</span></tt> (or any other SQLAlchemy structure)
into database.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Any related <tt class="xref py py-obj docutils literal"><span class="pre">Entity</span></tt>s are also going to be saved (added to the
session). This includes parent–child and context relations.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises :</th><td class="field-body"><p class="first"><strong>TypeError</strong> :</p>
<blockquote>
<div><p>If the type of an object&#8217;s attribute is not supported.</p>
</div></blockquote>
<p><strong>TypeError</strong> :</p>
<blockquote class="last">
<div><p>If the attribute is None</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="6%" />
<col width="94%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>args</td>
<td>One or more objects derived from <a class="reference internal" href="structures.html#xdapy.structures.Entity" title="xdapy.structures.Entity"><tt class="xref py py-obj docutils literal"><span class="pre">xdapy.structures.Entity</span></tt></a>.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="xdapy.mapper.Mapper.delete">
<tt class="descname">delete</tt><big>(</big><em>*args</em><big>)</big><a class="reference internal" href="../_modules/xdapy/mapper.html#Mapper.delete"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#xdapy.mapper.Mapper.delete" title="Permalink to this definition">¶</a></dt>
<dd><p>Deletes the objects from the database.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This will not delete any <tt class="xref py py-obj docutils literal"><span class="pre">Entity</span></tt>’s parent or children nodes
from the database. However, all references to the <tt class="xref py py-obj docutils literal"><span class="pre">Entity</span></tt>
will be removed.</p>
</div>
<p class="rubric">Attributes</p>
<table border="1" class="docutils">
<colgroup>
<col width="7%" />
<col width="93%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>args</td>
<td>One or more objects to be deleted from the session.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="xdapy.mapper.Mapper.create">
<tt class="descname">create</tt><big>(</big><em>type</em>, <em>*args</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="../_modules/xdapy/mapper.html#Mapper.create"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#xdapy.mapper.Mapper.create" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an instance of the entity named type.</p>
</dd></dl>

<dl class="method">
<dt id="xdapy.mapper.Mapper.create_and_save">
<tt class="descname">create_and_save</tt><big>(</big><em>type</em>, <em>*args</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="../_modules/xdapy/mapper.html#Mapper.create_and_save"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#xdapy.mapper.Mapper.create_and_save" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns and saves an instance of the entity named type.</p>
</dd></dl>

<dl class="method">
<dt id="xdapy.mapper.Mapper.is_in_session">
<tt class="descname">is_in_session</tt><big>(</big><em>entity</em><big>)</big><a class="reference internal" href="../_modules/xdapy/mapper.html#Mapper.is_in_session"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#xdapy.mapper.Mapper.is_in_session" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="xdapy.mapper.Mapper.param_filter">
<tt class="descname">param_filter</tt><big>(</big><em>entity</em>, <em>filter</em>, <em>options=None</em><big>)</big><a class="reference internal" href="../_modules/xdapy/mapper.html#Mapper.param_filter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#xdapy.mapper.Mapper.param_filter" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="xdapy.mapper.Mapper._mk_entity_filter">
<tt class="descname">_mk_entity_filter</tt><big>(</big><em>entity</em>, <em>filter=None</em><big>)</big><a class="reference internal" href="../_modules/xdapy/mapper.html#Mapper._mk_entity_filter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#xdapy.mapper.Mapper._mk_entity_filter" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the appropriate entity class, and a filter dict.</p>
</dd></dl>

<dl class="method">
<dt id="xdapy.mapper.Mapper.find">
<tt class="descname">find</tt><big>(</big><em>entity</em>, <em>filter=None</em>, <em>options=None</em><big>)</big><a class="reference internal" href="../_modules/xdapy/mapper.html#Mapper.find"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#xdapy.mapper.Mapper.find" title="Permalink to this definition">¶</a></dt>
<dd><p>Finds entities in the mapper.</p>
<p>This method prepares the query (via SQLAlchemy).
Further SQLAlchemy operations may be applied to the
returned object.</p>
<p>An SQLAlchemy query can be used as an iterator
to automatically step through a result list.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters :</th><td class="field-body"><p class="first"><strong>entity</strong> : string or class</p>
<blockquote>
<div><p>The entity to search for</p>
</div></blockquote>
<p><strong>filter</strong> : dict</p>
<blockquote>
<div><p>a filter</p>
</div></blockquote>
<p><strong>options</strong> :</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns :</th><td class="field-body"><p class="first last"><strong>instance of `sqlalchemy.orm.query.Query`</strong> :</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="xdapy.mapper.Mapper.find_first">
<tt class="descname">find_first</tt><big>(</big><em>entity</em>, <em>filter=None</em>, <em>options=None</em><big>)</big><a class="reference internal" href="../_modules/xdapy/mapper.html#Mapper.find_first"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#xdapy.mapper.Mapper.find_first" title="Permalink to this definition">¶</a></dt>
<dd><p>Convenience method for <tt class="docutils literal"><span class="pre">find(...).first()</span></tt>.</p>
</dd></dl>

<dl class="method">
<dt id="xdapy.mapper.Mapper.find_all">
<tt class="descname">find_all</tt><big>(</big><em>entity</em>, <em>filter=None</em>, <em>options=None</em><big>)</big><a class="reference internal" href="../_modules/xdapy/mapper.html#Mapper.find_all"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#xdapy.mapper.Mapper.find_all" title="Permalink to this definition">¶</a></dt>
<dd><p>Convenience method for <tt class="docutils literal"><span class="pre">find(...).all()</span></tt>.</p>
</dd></dl>

<dl class="method">
<dt id="xdapy.mapper.Mapper.find_roots">
<tt class="descname">find_roots</tt><big>(</big><em>entity=None</em><big>)</big><a class="reference internal" href="../_modules/xdapy/mapper.html#Mapper.find_roots"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#xdapy.mapper.Mapper.find_roots" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="xdapy.mapper.Mapper.find_related">
<tt class="descname">find_related</tt><big>(</big><em>entity</em>, <em>related</em><big>)</big><a class="reference internal" href="../_modules/xdapy/mapper.html#Mapper.find_related"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#xdapy.mapper.Mapper.find_related" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns all entities of type <tt class="xref py py-obj docutils literal"><span class="pre">entity</span></tt>
which have an attachment relation to <tt class="xref py py-obj docutils literal"><span class="pre">related</span></tt>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">mapper</span><span class="o">.</span><span class="n">find_related</span><span class="p">(</span><span class="s">&quot;Experiment&quot;</span><span class="p">,</span> <span class="p">(</span><span class="s">&quot;Observer&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;age&quot;</span><span class="p">:</span> <span class="n">lt</span><span class="p">(</span><span class="mi">15</span><span class="p">)}))</span>
</pre></div>
</div>
<p>finds all entities of type <tt class="xref py py-obj docutils literal"><span class="pre">Experiment</span></tt> which have an attachment of
type <tt class="xref py py-obj docutils literal"><span class="pre">Observer</span></tt> (the <tt class="xref py py-obj docutils literal"><span class="pre">connection_type</span></tt> does not matter) with an
parameter <tt class="xref py py-obj docutils literal"><span class="pre">age</span></tt> less than 15.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters :</th><td class="field-body"><p class="first"><strong>entity</strong> : string or class</p>
<blockquote>
<div><p>The entity to search for</p>
</div></blockquote>
<p><strong>related</strong> : tuple</p>
<blockquote class="last">
<div><p>(entity, filter) tuple which is used to search the attachment.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="xdapy.mapper.Mapper.find_by_id">
<tt class="descname">find_by_id</tt><big>(</big><em>entity</em>, <em>id</em><big>)</big><a class="reference internal" href="../_modules/xdapy/mapper.html#Mapper.find_by_id"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#xdapy.mapper.Mapper.find_by_id" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="xdapy.mapper.Mapper.find_by_unique_id">
<tt class="descname">find_by_unique_id</tt><big>(</big><em>unique_id</em><big>)</big><a class="reference internal" href="../_modules/xdapy/mapper.html#Mapper.find_by_unique_id"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#xdapy.mapper.Mapper.find_by_unique_id" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="xdapy.mapper.Mapper.get_data_matrix">
<tt class="descname">get_data_matrix</tt><big>(</big><em>entity</em>, <em>items</em>, <em>include=None</em><big>)</big><a class="reference internal" href="../_modules/xdapy/mapper.html#Mapper.get_data_matrix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#xdapy.mapper.Mapper.get_data_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Finds related items for the entity which satisfies condition</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters :</th><td class="field-body"><p class="first"><strong>include</strong> : list</p>
<blockquote class="last">
<div><dl class="docutils">
<dt>list of entities relations which should be included</dt>
<dd><ul class="first last simple">
<li>&#8220;PARENT&#8221;:           parent entities</li>
<li>&#8220;CHILDREN&#8221;:         child entities</li>
<li>&#8220;ATTACHMENTS&#8221;:          context entities</li>
<li>&#8220;HOLDERS&#8221;: reversed context entities</li>
<li>&#8220;ALL&#8221;:              all related entities</li>
</ul>
</dd>
</dl>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="xdapy.mapper.Mapper.find_with">
<tt class="descname">find_with</tt><big>(</big><em>entity</em>, <em>filter=None</em><big>)</big><a class="reference internal" href="../_modules/xdapy/mapper.html#Mapper.find_with"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#xdapy.mapper.Mapper.find_with" title="Permalink to this definition">¶</a></dt>
<dd><p>find_with provides an advanced filtering mode for higher structured queries.</p>
</dd></dl>

<dl class="method">
<dt id="xdapy.mapper.Mapper.super_find">
<tt class="descname">super_find</tt><big>(</big><em>entity</em>, <em>the_filter=None</em><big>)</big><a class="reference internal" href="../_modules/xdapy/mapper.html#Mapper.super_find"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#xdapy.mapper.Mapper.super_find" title="Permalink to this definition">¶</a></dt>
<dd><p>super_find is able to search for structured data, including sub-queries
where either one or all sub-items are being checked for a certain property.</p>
</dd></dl>

<dl class="method">
<dt id="xdapy.mapper.Mapper._register_parameter">
<tt class="descname">_register_parameter</tt><big>(</big><em>entity_name</em>, <em>parameter_name</em>, <em>parameter_type</em><big>)</big><a class="reference internal" href="../_modules/xdapy/mapper.html#Mapper._register_parameter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#xdapy.mapper.Mapper._register_parameter" title="Permalink to this definition">¶</a></dt>
<dd><p>Register a new parameter description for a specific experimental object</p>
<p>Attribute:
entity_name &#8211;  The name describing the experimental object.
parameter_name &#8211;  The name describing the parameter.
parameter_type &#8211; The type the parameter is required to match</p>
<p>Raises:
TypeError &#8211; If the parameters are not correctly specified
Some SQL error &#8211; If the same entry already exists</p>
</dd></dl>

<dl class="method">
<dt id="xdapy.mapper.Mapper.is_consistent">
<tt class="descname">is_consistent</tt><big>(</big><em>entity_name</em>, <em>parameter_defaults</em><big>)</big><a class="reference internal" href="../_modules/xdapy/mapper.html#Mapper.is_consistent"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#xdapy.mapper.Mapper.is_consistent" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks if an entity definition would be consistent with the current state
of the database.</p>
</dd></dl>

<dl class="method">
<dt id="xdapy.mapper.Mapper.register">
<tt class="descname">register</tt><big>(</big><em>*klasses</em><big>)</big><a class="reference internal" href="../_modules/xdapy/mapper.html#Mapper.register"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#xdapy.mapper.Mapper.register" title="Permalink to this definition">¶</a></dt>
<dd><p>Registers the class and the class’s parameters.</p>
</dd></dl>

<dl class="method">
<dt id="xdapy.mapper.Mapper.is_registered">
<tt class="descname">is_registered</tt><big>(</big><em>name</em>, <em>declared_params</em><big>)</big><a class="reference internal" href="../_modules/xdapy/mapper.html#Mapper.is_registered"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#xdapy.mapper.Mapper.is_registered" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="xdapy.mapper.Mapper.register_type">
<tt class="descname">register_type</tt><big>(</big><em>name</em>, <em>declared_params</em><big>)</big><a class="reference internal" href="../_modules/xdapy/mapper.html#Mapper.register_type"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#xdapy.mapper.Mapper.register_type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="xdapy.mapper.Mapper.entity_by_name">
<tt class="descname">entity_by_name</tt><big>(</big><em>name</em><big>)</big><a class="reference internal" href="../_modules/xdapy/mapper.html#Mapper.entity_by_name"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#xdapy.mapper.Mapper.entity_by_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the mapped entity class with the supplied name
or the entity class itself.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters :</th><td class="field-body"><p class="first"><strong>name: string or subclass of Entity</strong> :</p>
<blockquote class="last">
<div><p>The name of the entity object to find.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="xdapy.mapper.Mapper.entities_from_db">
<tt class="descname">entities_from_db</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/xdapy/mapper.html#Mapper.entities_from_db"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#xdapy.mapper.Mapper.entities_from_db" title="Permalink to this definition">¶</a></dt>
<dd><p>This returns all entities which are registered in the database.
It returns a list of tuples containing the entity name and the
dict of declared parameters.</p>
<p>Thus to add all entities from the database to the Python (SQLAlchemy) runtime,
the following code can be used:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">for</span> <span class="n">entity_name</span><span class="p">,</span> <span class="n">declared_params</span> <span class="ow">in</span> <span class="n">mapper</span><span class="o">.</span><span class="n">entities_from_db</span><span class="p">():</span>
    <span class="n">mapper</span><span class="o">.</span><span class="n">register_type</span><span class="p">(</span><span class="n">entity_name</span><span class="p">,</span> <span class="n">declared_params</span><span class="p">)</span>
</pre></div>
</div>
<p>Of course this will not add any additional methods or variables
to the entity instances.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns :</th><td class="field-body"><strong>list of tuples (entity_name, declared_params)</strong> :</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="xdapy.mapper.Mapper.the_big_picture">
<tt class="descname">the_big_picture</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/xdapy/mapper.html#Mapper.the_big_picture"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#xdapy.mapper.Mapper.the_big_picture" title="Permalink to this definition">¶</a></dt>
<dd><p>Tries to print a big picture of all connections.</p>
</dd></dl>

<dl class="attribute">
<dt id="xdapy.mapper.Mapper.__dict__">
<tt class="descname">__dict__</tt><em class="property"> = &lt;dictproxy object at 0x103c29b78&gt;</em><a class="headerlink" href="#xdapy.mapper.Mapper.__dict__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="xdapy.mapper.Mapper.__module__">
<tt class="descname">__module__</tt><em class="property"> = 'xdapy.mapper'</em><a class="headerlink" href="#xdapy.mapper.Mapper.__module__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="xdapy.mapper.Mapper.__repr__">
<tt class="descname">__repr__</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/xdapy/mapper.html#Mapper.__repr__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#xdapy.mapper.Mapper.__repr__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="xdapy.mapper.Mapper.__weakref__">
<tt class="descname">__weakref__</tt><a class="headerlink" href="#xdapy.mapper.Mapper.__weakref__" title="Permalink to this definition">¶</a></dt>
<dd><p>list of weak references to the object (if defined)</p>
</dd></dl>

</dd></dl>

</div>


      </div>
      <div class="bottomnav">
      
        <p>
        <a class="uplink" href="../index.html">Contents</a>
        </p>

      </div>

    <div class="footer">
        &copy; Copyright 2012, Hannah Dold, Rike-Benjamin Schuppner.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>